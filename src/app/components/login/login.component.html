<section class="bg-main-light shadow p-2 my-2 rounded-4">
<h1 class="h2 text-main">Login Now:</h1>
<form [formGroup]="loginForm" (ngSubmit)="loginSubmit()" >
 

    <div class="my-2">
        <label for="email">Email</label>
        <input [ngClass]="{
            'is-valid': !loginForm.get('email')?.errors && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty) ,
            'is-invalid': loginForm.get('email')?.errors && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty) }"



        id="email" type="email" class="form-control" formControlName="email">
 @if(loginForm.get('email')?.errors && (loginForm.get('email')?.touched||loginForm.get('email')?.dirty)){
    <div class="alert alert-danger w-50">
        @if(loginForm.get('email')?.getError('required')){   <p class="m-0">Email Is required</p>}
     @else if (loginForm.get('email')?.getError('email')) {   <p class="m-0">Enter Valid Email </p>}
     
    </div>
 }
    </div>
    <div class="my-2">
        <label for="password">Password</label>
        <input [ngClass]="{
            'is-valid': !loginForm.get('password')?.errors && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty) ,
            'is-invalid': loginForm.get('password')?.errors && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty) }"



         id="password" type="password" class="form-control" formControlName="password" >
        @if(loginForm.get('password')?.errors && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty)){
            <div class="alert alert-danger w-50">
                @if(loginForm.get('password')?.getError('required')){   <p class="m-0">password Is required</p>}
             @else if (loginForm.get('password')?.getError('pattern')) {   <p class="m-0">must be at least 6 chars </p>}
             
            </div>
        }
    
    </div>
  <div class="d-flex align-items-center justify-content-end gap-4">
    <a routerLink="/forget" class="link-primary">Forget Password?</a>
    <button type="submit" class="btn-main " [disabled]="loginForm.invalid || isLoading">login
        @if(isLoading){
            <span><i class="fas fa-spin fa-spinner"></i></span>
        }
        </button>
  </div>
        <!-- yb2a 3nd elbutton 3mlt disabled in html w kman fe el ts mn elmethod loginSubmit 34an eluser my3ml4 submit l ae 7aga
         3mlt kman  isLoading 34an twl mahwa by7ml el user myfdlsh ydos 3la elbutton w yb3t requests -->
        @if(msgError){
            <p class="alert alert-danger w-50 m-0">{{msgError}}</p>
        }
        <!-- b3ml elmsg ele htegii mn elbackend lw fe error -->
@if(msgSuccess){
    <p class="w-50 m-0 alert alert-success">You have been logged in successfully</p>
}
</form>


</section>
